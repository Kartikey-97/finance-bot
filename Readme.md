# ğŸ›¡ï¸ Sentinel AI â€” Real-Time Financial Compliance Engine

A real-time financial fraud detection and AML monitoring system that tracks live transactions, computes sliding-window velocity analytics, cross-checks users against a watchlist, and generates explainable suspicious activity alerts â€” all visualized on a dynamic Streamlit dashboard.

---

## ğŸš€ Features

### âœ” **Real-Time Transaction Stream**
A simulator continuously appends synthetic transactions into:
```
data/stream/transactions.csv
```

### âœ” **Pathway Streaming Engine**
The backend pipeline (Pathway) performs:
- 1-hour sliding window (hop = 1 minute)
- Velocity sum, count, and average
- Metadata extraction (merchant, location, status)
- Watchlist join
- Suspicious alert generation
- Outputs to:
```
suspicious_alerts.csv
```

### âœ” **Fraud Detection Rules**
Alerts are triggered if:
- Single transaction **> $2000**
- 1-hour velocity average **> $5000**
- User is on the **watchlist**

### âœ” **Explainable Alerts**
Alerts include human-readable explanations such as:

> â€œ1h velocity exceeded $5000 across 7 transactions. Merchant: Uber. Location: Delhi.â€

### âœ” **Live Streamlit Dashboard**
- Auto-refresh every 2 seconds  
- Velocity-over-time graph  
- Latest alerts  
- Watchlist hits  
- High-value flags  
- Diagnostic panel  

### âœ” **Optional RAG + Gemini Integration**
If a `GEMINI_API_KEY` exists, the system adds LLM-powered context enrichment.

---

## ğŸ“¦ Project Structure

```
finance-bot/
â”‚
â”œâ”€â”€ app.py                   # Pathway fraud detection pipeline
â”œâ”€â”€ ui.py                    # Streamlit dashboard UI
â”œâ”€â”€ stream_simulator.py      # Real-time transaction generator
â”‚
â”œâ”€â”€ suspicious_alerts.csv    # Alerts generated by the pipeline
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ stream/transactions.csv
â”‚   â”œâ”€â”€ watchlist/watchlist.csv
â”‚   â””â”€â”€ documents/PS WEEK 1.pdf
â”‚
â”œâ”€â”€ Dockerfile.pipeline
â”œâ”€â”€ Dockerfile.dashboard
â”œâ”€â”€ Dockerfile.simulator
â”œâ”€â”€ docker-compose.yml
â”‚
â””â”€â”€ requirements.txt
```

---

## ğŸ§  Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ stream_simulator.py      â”‚
â”‚  (writes transactions)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Pathway Engine (app.py)  â”‚
â”‚ - Sliding windows        â”‚
â”‚ - Velocity analytics     â”‚
â”‚ - Watchlist join         â”‚
â”‚ - Alert generation       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Streamlit Dashboard      â”‚
â”‚  (reads alerts live)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ³ Running With Docker (Recommended)

### 1ï¸âƒ£ Optional: Create `.env` for Gemini
```
GEMINI_API_KEY=your_key_here
```

### 2ï¸âƒ£ Launch All Services
```
docker compose up --build
```

### 3ï¸âƒ£ Open Dashboard
Visit:
```
http://localhost:8501
```

---

## ğŸ§ª How the System Works

### 1. **Simulator writes a transaction every 30 seconds**
Example:
```
2025-11-30T12:45:00, u202, 5890, Amazon, Delhi, APPROVED
```

### 2. **Pathway ingests and computes:**
- velocity_sum_1h  
- velocity_count_1h  
- velocity_avg_1h  
- metadata extraction  
- watchlist join  

### 3. **Alerts get written to:**
```
suspicious_alerts.csv
```

### 4. **Dashboard visualizes alerts live**

---

## ğŸ“Š Sample Alert Table

| user_id | amount | velocity_avg_1h | watchlist_risk | analysis |
|---------|--------|------------------|----------------|----------|
| u202 | 5890 | 4338.63 | null | Single transaction exceeded threshold. |

---

## ğŸ›  Tech Stack

- **Python 3.10**
- **Pathway (stream processing)**
- **Streamlit (dashboard)**
- **Docker & Docker Compose**
- **Google Gemini API (optional)**

---

## ğŸ§‘â€ğŸ’» Author
**Kartikey Gupta** â€” AI & Systems Developer  
Built for hackathon submission using Pathway streaming analytics.

---

## âœ” Submission Ready
This project includes:
- Real-time streaming pipeline  
- Fraud detection logic  
- Explainability  
- Live dashboard  
- Full Docker orchestration  
- Clean modular architecture

